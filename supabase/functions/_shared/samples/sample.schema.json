{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://frostguard.dev/schemas/sample.schema.json",
  "title": "Payload Sample Definition",
  "description": "Schema for defining sample payloads used in payload type inference",
  "type": "object",
  "required": ["model", "manufacturer", "category", "sensorType", "payloadVersion", "samples"],
  "properties": {
    "model": {
      "type": "string",
      "description": "Device model identifier (e.g., 'LDS02', 'EM300-TH')"
    },
    "manufacturer": {
      "type": "string",
      "description": "Device manufacturer name"
    },
    "category": {
      "type": "string",
      "enum": ["door", "temperature", "temperature_humidity", "air_quality", "leak", "motion", "gps", "metering", "multi_sensor"],
      "description": "Primary sensor category"
    },
    "sensorType": {
      "type": "string",
      "description": "Maps to lora_sensor_type enum value"
    },
    "payloadVersion": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version for this payload structure"
    },
    "samples": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["description", "decoded_payload"],
        "properties": {
          "description": {
            "type": "string",
            "description": "Human-readable description of this sample state"
          },
          "decoded_payload": {
            "type": "object",
            "description": "The actual decoded payload from the sensor"
          }
        }
      }
    },
    "fieldSchema": {
      "type": "object",
      "description": "JSON Schema definitions for each field in the payload",
      "additionalProperties": {
        "type": "object"
      }
    },
    "discriminators": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Fields that uniquely identify this payload type"
    },
    "aliases": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Alternative model names or variations"
    },
    "notes": {
      "type": "string",
      "description": "Additional notes about this device/payload"
    }
  }
}
