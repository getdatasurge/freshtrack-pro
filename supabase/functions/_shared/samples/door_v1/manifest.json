{
  "payloadType": "door_v1",
  "version": "1.0.0",
  "displayName": "Door/Contact Sensor",
  "description": "Binary open/close contact sensors reporting door state",
  "sensorType": "door",
  "capabilities": ["door", "battery"],
  "schema": {
    "type": "object",
    "properties": {
      "door_status": { "type": "string", "enum": ["open", "closed"] },
      "door": { "oneOf": [{ "type": "boolean" }, { "type": "string", "enum": ["open", "closed"] }] },
      "open_close": { "type": "integer", "enum": [0, 1] },
      "battery_level": { "type": "integer", "minimum": 0, "maximum": 100 },
      "battery_voltage": { "type": "number", "minimum": 0, "maximum": 5 }
    },
    "oneOf": [
      { "required": ["door_status"] },
      { "required": ["door"] },
      { "required": ["open_close"] }
    ]
  },
  "discriminators": {
    "primary": ["door_status", "door", "open_close"],
    "secondary": [],
    "priority": 100
  },
  "fieldNormalization": {
    "door_status": "door_state",
    "door": "door_state",
    "open_close": "door_state"
  },
  "knownModels": ["LDS02", "R311A", "DS3604"]
}
